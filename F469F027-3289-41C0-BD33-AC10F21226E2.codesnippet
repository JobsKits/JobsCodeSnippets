<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>IDECodeSnippetCompletionPrefix</key>
	<string>fwb</string>
	<key>IDECodeSnippetCompletionScopes</key>
	<array>
		<string>All</string>
	</array>
	<key>IDECodeSnippetContents</key>
	<string>// MARK: è®¾ç½®å¯Œæ–‡æœ¬@UILabel
UILabel().richTextBy(runs, paragraphStyle: ps)
// MARK: è®¾ç½®å¯Œæ–‡æœ¬@UIButton
UIButton.sys()
    /// å¯Œæ–‡æœ¬å­—@è®¾ç½®æŒ‰é’®ä¸»æ ‡é¢˜
    .byRichTitle(JobsRichText.make([
        JobsRichRun(.text("Â¥99")).font(.systemFont(ofSize: 18, weight: .semibold)).color(.systemRed),
        JobsRichRun(.text(" /æœˆ")).font(.systemFont(ofSize: 16)).color(.white)
    ]))
     /// å¯Œæ–‡æœ¬å­—@è®¾ç½®æŒ‰é’®å‰¯æ ‡é¢˜
    .byRichSubTitle(JobsRichText.make([
        JobsRichRun(.text("åŸä»· ")).font(.systemFont(ofSize: 12)).color(.white.withAlphaComponent(0.8)),
        JobsRichRun(.text("Â¥199")).font(.systemFont(ofSize: 12, weight: .medium)).color(.systemYellow)
    ]))
// MARK: è®¾ç½®å¯Œæ–‡æœ¬@UITextView
UITextView().richTextBy(runs, paragraphStyle: ps)
UITextView()
        .byAttributedText(NSMutableAttributedString(
            string: "ğŸ”— é»˜è®¤è“è‰²é“¾æ¥ï¼ˆç³»ç»Ÿæ ·å¼ï¼‰ï¼š",
            attributes: [
                .font: UIFont.systemFont(ofSize: 15),
                .foregroundColor: UIColor.secondaryLabel
            ])
            .byAdd(NSAttributedString(
                string: " Apple å®˜ç½‘",
                attributes: [
                    .link: URL(string: "https://www.apple.com")!,
                    .font: UIFont.boldSystemFont(ofSize: 16)
                ]))
            .byAdd(NSAttributedString(
                string: "\nå®¢æœç”µè¯ï¼š400-123-4567",
                attributes: [.font: UIFont.systemFont(ofSize: 15)]
            )))
        /// å¯Œæ–‡æœ¬å­—@ç‚¹å‡»äº‹ä»¶
        .linkTap
        .observe(on: MainScheduler.instance)
        .subscribe(onNext: { [weak self] url in
            guard let self else { return }
            if url.scheme == "click" {
                self.presentAlert(for: url.absoluteString)
            }
        })
        .disposed(by: disposeBag)
// MARK: è®¾ç½®å¯Œæ–‡æœ¬@UITextField
UITextField().richTextBy(runs, paragraphStyle: ps)

// MARK: è®¾ç½®å¯Œæ–‡æœ¬@ä¸‹åˆ’çº¿
// æ®µè½æ ·å¼
let ps = jobsMakeParagraphStyle {
    $0.alignment = .center
    $0.lineSpacing = 6
}
// å¯Œæ–‡æœ¬é…ç½®æ•°ç»„
let runs: [JobsRichRun] = [
    JobsRichRun(.text("æ¬¢è¿ä½¿ç”¨ "))
        .font(.systemFont(ofSize: 18))
        .color(.secondaryLabel),

    JobsRichRun(.text("JobsRichText "))
        .font(.boldSystemFont(ofSize: 18))
        .color(.systemBlue)
        .underline(.single, color: .systemBlue),

    JobsRichRun(.text("å°è£…ç¤ºä¾‹"))
        .font(.systemFont(ofSize: 18))
        .strike(.single, color: .systemRed)
]
// MARK: è®¾ç½®å¯Œæ–‡æœ¬@è¶…é“¾æ¥
let ps = jobsMakeParagraphStyle {
    $0.alignment = .center
    $0.lineSpacing = 4
}

let runs: [JobsRichRun] = [
    JobsRichRun(.text("å¦‚éœ€å¸®åŠ©ï¼Œè¯·è”ç³» "))
        .font(.systemFont(ofSize: 15))
        .color(.secondaryLabel),

    JobsRichRun(.text("ä¸“å±å®¢æœ"))
        .font(.systemFont(ofSize: 15))
        .color(.systemBlue)
        .link("click://customer")
]
// MARK: è®¾ç½®å¯Œæ–‡æœ¬@å›¾
// å›¾æ ‡é™„ä»¶
let config = UIImage.SymbolConfiguration(pointSize: 16, weight: .medium)
let image = UIImage(systemName: "paperclip", withConfiguration: config)!
let att = NSTextAttachment()
att.image = image

let ps = jobsMakeParagraphStyle {
    $0.alignment = .center
    $0.lineSpacing = 2
}

let runs: [JobsRichRun] = [
    JobsRichRun(.attachment(att, CGSize(width: 16, height: 16))),
    JobsRichRun(.text("  é™„ä»¶è¯´æ˜"))
        .font(.systemFont(ofSize: 15))
        .color(.secondaryLabel)
]
// MARK: åˆ©ç”¨ä»£ç†è®¾ç½®å¯Œæ–‡æœ¬@ç‚¹å‡»äº‹ä»¶
extension RichTextDemoVC: UITextViewDelegate {
    // MARK: âœ… iOS17+ æ–° API
    @available(iOS 17.0, *)
    func textView(_ textView: UITextView,
                  textItemMenuConfiguration configuration: UITextItem.MenuConfiguration,
                  for textRange: UITextRange,
                  point: CGPoint) -&gt; UITextItem.MenuConfiguration? {
        // å¯è‡ªå®šä¹‰èœå•è¡Œä¸ºï¼ˆå¤åˆ¶/æ‰“å¼€/åˆ†äº«ï¼‰
        return configuration
    }

    @available(iOS 17.0, *)
    func textView(_ textView: UITextView,
                  primaryActionFor textItem: UITextItem) -&gt; UIAction? {

        switch textItem.content {
        case .link(let url):
            if url.scheme == "click" {
                print("ç‚¹å‡»äº‹ä»¶")
                // è¿”å› nil è¡¨ç¤ºä¸æ‰§è¡Œç³»ç»Ÿé»˜è®¤è¡Œä¸º
                return nil
            }
            return nil

        default:
            // é link ç±»å‹çš„å†…å®¹ï¼Œä¿æŒé»˜è®¤
            return nil
        }
    }
    // MARK: âœ… iOS16 åŠä»¥ä¸‹æ—§ API
    @available(iOS, introduced: 10.0, deprecated: 17.0, message: "Use textView(_:primaryActionFor:) on iOS17+ instead")
    func textView(_ textView: UITextView,
                  shouldInteractWith URL: URL,
                  in characterRange: NSRange,
                  interaction: UITextItemInteraction) -&gt; Bool {
        if URL.scheme == "click" {
            print("ç‚¹å‡»äº‹ä»¶")
            return false
        }
        return true
    }
}</string>
	<key>IDECodeSnippetIdentifier</key>
	<string>F469F027-3289-41C0-BD33-AC10F21226E2</string>
	<key>IDECodeSnippetLanguage</key>
	<string>Xcode.SourceCodeLanguage.Swift</string>
	<key>IDECodeSnippetSummary</key>
	<string>å¯¹UIKItæ¡†æ¶ä¸­æ¶‰åŠåˆ°å¯Œæ–‡æœ¬çš„å„å¤„è¿›è¡Œä½¿ç”¨è¯´æ˜</string>
	<key>IDECodeSnippetTitle</key>
	<string>Swift@å¯Œæ–‡æœ¬</string>
	<key>IDECodeSnippetUserSnippet</key>
	<true/>
	<key>IDECodeSnippetVersion</key>
	<integer>2</integer>
</dict>
</plist>
